from myternaryutility import TernaryPlot
import matplotlib.cm as cm
import numpy
import pylab

x=numpy.float32([1,2,4,7,10,13,2,5,8,11,14,3,6,9,1,1,1,1,1,2,2,2,2,2,3,3,3,3,3,4,12,15,4,7,10,13,2,5,8,11,14,2,3,6,4,4,4,4,5,5,5,5,5,6,6,6,6,7,7,7,9,12,1,3,7,10,13,2,4,8,11,1,5,9,7,7,8,8,8,8,9,9,9,9,10,10,10,10,10,11,12,1,4,7,10,2,4,8,3,6,4,7,2,11,11,11,12,12,12,13,13,13,13,14,14,14,15,1,-1,-4,-8,-10,-13,-2,-5,-8,-11,-14,-3,-6,-9,-12,-15,-1,-3,-6,-9,-12,-15,-1,-4,-7,-10,-13,-2,-5,-8,-11,-4,-7,-10,-13,-2,-5,-8,-11,-14,-3,-6,-9,-12,-1,-4,-7,-14,-3,-6,-9,-12,-1,-4,-7,-10,-13,-2,-5,-8,-11,-10,-13,-2,-5,-8,-11,-3,-6,-9,-12,-1,-4,-7,-10,-13,-2,-14,-3,-6,-9,-12,-1,-4,-7,-10,-2,-5,-8,-11,-3,-5,-8,-11,-3,-6,-9,-1,-4,-7,-10,-2,-5,-8,-3,-6,-1,-6,-9,-1,-4,-7,-10,-2,-5,-8,-3,-6,-1])
y=numpy.float32([1,1,1,1,1,1,2,2,2,2,2,3,3,3,-1,-4,-7,-10,-13,-2,-5,-8,-11,-14,-3,-6,-9,-12,-15,-1,3,3,4,4,4,4,5,5,5,5,5,6,6,6,-4,-7,-10,-13,-2,-5,-8,-11,-14,-3,-6,-9,-12,-1,-4,-7,6,6,7,7,7,7,7,8,8,8,8,9,9,9,-10,-13,-2,-5,-8,-11,-3,-6,-9,-12,-1,-4,-7,-10,-13,-2,9,10,10,10,10,11,11,11,12,12,13,13,14,-5,-8,-11,-3,-6,-9,-1,-4,-7,-10,-2,-5,-8,-3,-16,-1,-1,-1,-1,-1,-2,-2,-2,-2,-2,-3,-3,-3,-3,-3,-4,1,1,1,1,1,2,2,2,2,2,3,3,3,3,-4,-4,-4,-4,-5,-5,-5,-5,-5,-6,-6,-6,-6,-7,-7,-7,3,4,4,4,4,5,5,5,5,5,6,6,6,6,-7,-7,-8,-8,-8,-8,-9,-9,-9,-9,-10,-10,-10,-10,-10,-11,6,7,7,7,7,8,8,8,8,9,9,9,9,10,-11,-11,-11,-12,-12,-12,-13,-13,-13,-13,-14,-14,-14,-15,-15,-16,10,10,11,11,11,11,12,12,12,13,13,14])
au=numpy.float32([64.6,64.7,68.6,73,76.1,77.3,65.5,70.5,73.8,78.3,79.2,68.1,72,75.5,65.4,63.8,63.7,62.2,59.7,65.9,65.8,63.7,62,60.7,66.4,65.7,64,63,62.4,69.9,78.2,80.9,68.7,72.7,76.3,79.6,65.7,70.2,74.7,77.3,79.3,64.5,67.8,69.9,66.4,66.7,64.3,64,69.8,69.1,67.3,66.3,62.5,70.7,68.8,68.1,66.4,72.9,70.8,69.8,74.3,77.1,63.4,65.6,74.7,76.5,79,64.8,66.2,71.6,77.8,61.6,66.4,72.4,68.8,65.8,72.3,72.7,71.2,69.8,74,72.9,70.5,69.8,74,75.5,72.1,71.3,69.4,75.3,76.4,59.9,66,71.8,73.7,63,63.2,72,62.7,68.1,62.5,65.3,58.5,75.6,72.7,71.9,76.8,75.2,73.8,77.2,77.2,74.8,74.1,77.2,79.3,75.7,77.9,57.8,63.6,58.4,53.3,51.5,48.5,61.9,56.6,53.5,50.9,47.1,60.7,55.6,52.1,49.5,47,63,62.2,58.4,54.7,51.2,48.9,65.5,61.2,57.1,53.2,50.2,63.7,59.3,55.3,52.3,58.4,53.7,51.3,47.7,60.5,57.3,53.9,49.3,46.8,59.6,56.2,52.5,49,62.3,57.7,54,48.8,62,57.7,53.9,50.7,65.5,59.7,55.4,52,49.5,62.6,57.3,53.8,50.3,51,47.4,59.6,56.5,52.6,48.9,58.3,54.8,51.3,47.9,60.4,56,52.7,50.2,46.8,59.1,48,59.9,55.8,52.4,48.8,62.5,58,55,51.4,60.4,56,52.6,49.2,58.1,54.5,51.5,49.7,56.7,52.5,49.7,58.6,55.4,50.7,47.7,56.7,52,49.8,54.8,51.5,57.2,54.5,50.5,60.1,56.7,52.6,48.3,58.2,54.6,50.6,55.8,52,53.2])
cu=numpy.float32([19.2,16.9,17.2,13.8,12.3,12.1,17.8,14.6,13.8,10.8,11.6,15.6,13.3,11.8,18.9,22.3,23.3,26.3,29.6,18.9,19.5,24.5,27.5,30.8,20.8,22.2,26,28,28.2,16.8,11.7,10,14.5,12.5,11.8,9.9,14.7,13.5,12.1,11.2,10.5,14.5,12.6,13.7,20.6,20.7,25.5,27.7,15.9,19.5,22.2,24.1,28.6,16.4,20.1,21.9,24.3,14.3,18.3,20.3,12,10.7,13.6,14.4,10.5,10,8.3,11.8,12.5,11.4,8.6,13.4,12.6,10.2,21.6,26.1,16,15.8,18.9,22.1,15,16.7,21.1,21.9,13.3,14.7,18.7,20.2,24,15.4,9,13.1,11.1,9.9,9.7,10.6,11.9,9.1,10.3,10,10.4,10.4,10.6,14.8,17.3,20.1,13.1,16.2,17.9,11.9,14.4,16.7,17.6,13.7,12,17,13.6,34.5,19.4,22.2,25.1,25.3,26.8,21.1,24.2,25.8,26.5,29,22.8,25.1,26.7,28.6,29.9,22.5,18.1,18.7,20,21.3,22.1,16.2,17.3,18.2,19.9,20.5,16.1,17,18,18.6,25,27.1,28.8,31.4,25.1,26.4,27.7,30.7,32.9,26,28.3,30.5,32.1,25.5,28.1,30.1,20,15.1,16.5,17.6,18.6,14.6,15.4,16.4,17.6,17.9,13.6,16.1,16.7,17.9,32.3,35.3,27.5,29.4,32.1,34.8,29,30.8,34.3,36.6,27.7,31.2,33.3,35.1,37.6,29.2,18.1,14.5,14.8,16,17.7,13.2,13.9,13.9,15,13.3,14.2,15.2,15.1,12.8,32.5,34,36,32,35,38.1,31.7,33.6,37.6,40.2,33.6,37.4,38.5,35.4,37,33.4,13.7,15.1,11.7,13.4,13.5,15.4,11.3,12.1,13.6,13.1,12.4,12])
si=numpy.float32([16.2,18.4,14.2,13.2,11.7,10.6,16.7,14.9,12.4,10.9,9.2,16.3,14.7,12.7,15.7,13.9,12.9,11.5,10.7,15.2,14.7,11.9,10.5,8.4,12.8,12.1,10,9,9.3,13.3,10.1,9.1,16.8,14.7,11.9,10.5,19.7,16.3,13.2,11.5,10.2,21,19.6,16.4,13,12.6,10.2,8.3,14.3,11.4,10.5,9.5,8.9,12.9,11.1,10,9.3,12.9,11,9.9,13.7,12.2,23,21,14.8,13.5,12.7,23.4,21.3,17,13.6,25,21,17.4,9.5,8.1,11.7,11.4,9.9,8.2,11,10.4,8.4,8.3,12.7,9.8,9.2,8.5,6.6,9.3,14.6,26.9,22.9,18.3,16.6,26.5,24.8,18.8,27,23.9,27.2,24.3,30.9,9.6,10,8,10.1,8.6,8.3,10.9,8.4,8.5,8.2,9.1,8.7,7.3,8.5,7.7,16.9,19.3,21.5,23.2,24.7,17,19.2,20.7,22.6,23.9,16.6,19.2,21.2,21.9,23.1,14.6,19.7,22.9,25.3,27.5,29,18.3,21.5,24.7,26.9,29.3,20.3,23.7,26.7,29.1,16.6,19.1,19.9,20.8,14.4,16.4,18.4,20,20.3,14.4,15.5,17,18.9,12.2,14.2,15.9,31.2,22.9,25.8,28.5,30.7,19.9,24.9,28.2,30.4,32.6,23.8,26.6,29.5,31.8,16.7,17.3,12.9,14.1,15.3,16.3,12.8,14.3,14.4,15.6,11.8,12.9,14,14.7,15.5,11.7,33.9,25.6,29.4,31.6,33.5,24.3,28.1,31.1,33.6,26.3,29.8,32.2,35.6,29.1,12.9,13.9,14.3,11.3,12.5,12.2,9.7,11,11.7,12.2,9.7,10.5,11.6,9.7,11.5,9.3,31.8,34.4,28.2,29.9,33.9,36.3,30.5,33.3,35.8,31.2,35.6,34.9])

comps=numpy.array([au, cu, si]).T
comps=numpy.array([c/c.sum() for c in comps])
aumin=comps[:, 0].min()
cumin=comps[:, 1].min()
simin=comps[:, 2].min()

pylab.figure(figsize=(6, 3))
ax=pylab.gca()
#stp = TernaryPlot(ax, ellabels=['Au', 'Cu', 'Si']) 
stp = TernaryPlot(ax, ellabels=['Au', 'Cu', 'Si'], minlist=[aumin, cumin, simin])
stp.grid(nintervals=10, printticklabels=[4])
stp.label(fontsize=12)
stp.colorcompplot(comps, '.', markersize=9)
colors=stp.color_comp_calc(comps)

pylab.figure(figsize=(4, 4))
#pylab.scatter(x, y, c=colors, s=40)
for xv, yv, c in zip(x, y, colors):
    pylab.plot([xv], [yv], '.', color=c, ms=12)
pylab.gca().set_aspect(1)
rmax=numpy.max(x**2+y**2)**.5
rlab=rmax+1.5
pylab.text(rlab, 0., 'Au', fontsize=12, color='r', ha='center', va='center')
pylab.text(-0.5*rlab, -0.5*3.**.5*rlab, 'Cu', fontsize=12, color='g', ha='center', va='top')
pylab.text(-0.5*rlab, 0.5*3.**.5*rlab, 'Si', fontsize=12, color='b', ha='center', va='top')
pylab.xlim(-18, 20)
pylab.ylim(-18, 18)
pylab.show()

print 'done'
